// Form Submissions
        document.addEventListener('DOMContentLoaded', function() {
            // Add Expense Form
            const addExpenseForm = document.getElementById('addExpenseForm');
            if (addExpenseForm) {
                addExpenseForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const newExpense = {
                        id: Date.now(),
                        date: document.getElementById('expenseDate').value,
                        type: document.getElementById('expenseType').value,
                        category: document.getElementById('expenseCategory').value,
                        description: document.getElementById('expenseDescription').value,
                        amount: parseFloat(document.getElementById('expenseAmount').value),
                        recurring: document.getElementById('isRecurring').checked
                    };
                    
                    // Add work hours for income
                    if (newExpense.type === 'income') {
                        const workHours = parseFloat(document.getElementById('expenseWorkHours').value);
                        if (workHours) {
                            newExpense.workHours = workHours;
                        }
                    }
                    
                    // Add recurring months if applicable
                    if (newExpense.recurring) {
                        const months = parseInt(document.getElementById('recurringMonthsCount').value);
                        if (months) {
                            newExpense.recurringMonths = months;
                        }
                    }
                    
                    expenses.push(newExpense);
                    localStorage.setItem('expenses', JSON.stringify(expenses));
                    
                    closeModal('addExpenseModal');
                    this.reset();
                    loadExpenseData();
                });
            }

            // Edit Expense Form
            const editExpenseForm = document.getElementById('editExpenseForm');
            if (editExpenseForm) {
                editExpenseForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const id = parseInt(document.getElementById('editExpenseId').value);
                    const expense = expenses.find(e => e.id === id);
                    
                    if (expense) {
                        expense.type = document.getElementById('editExpenseType').value;
                            <script>
        // Data Storage
        let expenses = JSON.parse(localStorage.getItem('expenses') || '[]');
        let products = JSON.parse(localStorage.getItem('products') || '[]');
        let orders = JSON.parse(localStorage.getItem('orders') || '[]');
        let settings = JSON.parse(localStorage.getItem('settings') || '{}');
        let nextOrderNumber = parseInt(localStorage.getItem('nextOrderNumber') || '2021');
        let currentCalculation = {};

        // Initialize settings with defaults
        function initializeSettings() {
            const defaults = {
                vatRate: 0.17,
                processingFee: 0.025,
                packagingCost: 15,
                fixedCosts: 50,
                laborHourRate: 100,
                salaryHourRate: 50, // ×ª×¢×¨×™×£ ×œ×©×¢×ª ×¢×‘×•×“×” ×œ××©×›×•×¨×ª
                materialPrices: {
                    '14K ×–×”×‘': 230,
                    '×›×¡×£': 8,
                    '×›×¡×£ ×™×¦×™×§×”': 8,
                    '×¦×™×¤×•×™- ×›×¡×£': 8,
                    '×¦×™×¤×•×™- ×™×¦×™×§×”': 8
                },
                laborTime: {
                    '14K ×–×”×‘': 2,
                    '×›×¡×£': 1.5,
                    '×›×¡×£ ×™×¦×™×§×”': 1.5,
                    '×¦×™×¤×•×™- ×›×¡×£': 1,
                    '×¦×™×¤×•×™- ×™×¦×™×§×”': 1
                },
                profitMultiplier: {
                    '14K ×–×”×‘': 1.53,
                    '×›×¡×£': 1.77,
                    '×›×¡×£ ×™×¦×™×§×”': 1.77,
                    '×¦×™×¤×•×™- ×›×¡×£': 1.60,
                    '×¦×™×¤×•×™- ×™×¦×™×§×”': 1.60
                }
            };
            
            settings = { ...defaults, ...settings };
            localStorage.setItem('settings', JSON.stringify(settings));
            loadSettingsToUI();
        }

        // Load settings to UI
        function loadSettingsToUI() {
            document.getElementById('vatRate').value = (settings.vatRate * 100).toFixed(1);
            document.getElementById('processingFee').value = (settings.processingFee * 100).toFixed(1);
            document.getElementById('packagingCost').value = settings.packagingCost;
            document.getElementById('fixedCosts').value = settings.fixedCosts;
            document.getElementById('laborHourRate').value = settings.laborHourRate;
            
            document.getElementById('price_14k').value = settings.materialPrices['14K ×–×”×‘'];
            document.getElementById('price_silver').value = settings.materialPrices['×›×¡×£'];
            document.getElementById('price_silver_cast').value = settings.materialPrices['×›×¡×£ ×™×¦×™×§×”'];
            
            document.getElementById('profit_14k').value = settings.profitMultiplier['14K ×–×”×‘'];
            document.getElementById('profit_silver').value = settings.profitMultiplier['×›×¡×£'];
            document.getElementById('profit_plating').value = settings.profitMultiplier['×¦×™×¤×•×™- ×›×¡×£'];
            
            document.getElementById('time_14k').value = settings.laborTime['14K ×–×”×‘'];
            document.getElementById('time_silver').value = settings.laborTime['×›×¡×£'];
            document.getElementById('time_plating').value = settings.laborTime['×¦×™×¤×•×™- ×›×¡×£'];
        }

        // Save settings
        function saveSettings() {
            settings = {
                vatRate: parseFloat(document.getElementById('vatRate').value) / 100,
                processingFee: parseFloat(document.getElementById('processingFee').value) / 100,
                packagingCost: parseFloat(document.getElementById('packagingCost').value),
                fixedCosts: parseFloat(document.getElementById('fixedCosts').value),
                laborHourRate: parseFloat(document.getElementById('laborHourRate').value),
                materialPrices: {
                    '14K ×–×”×‘': parseFloat(document.getElementById('price_14k').value),
                    '×›×¡×£': parseFloat(document.getElementById('price_silver').value),
                    '×›×¡×£ ×™×¦×™×§×”': parseFloat(document.getElementById('price_silver_cast').value),
                    '×¦×™×¤×•×™- ×›×¡×£': parseFloat(document.getElementById('price_silver').value),
                    '×¦×™×¤×•×™- ×™×¦×™×§×”': parseFloat(document.getElementById('price_silver_cast').value)
                },
                laborTime: {
                    '14K ×–×”×‘': parseFloat(document.getElementById('time_14k').value),
                    '×›×¡×£': parseFloat(document.getElementById('time_silver').value),
                    '×›×¡×£ ×™×¦×™×§×”': parseFloat(document.getElementById('time_silver').value),
                    '×¦×™×¤×•×™- ×›×¡×£': parseFloat(document.getElementById('time_plating').value),
                    '×¦×™×¤×•×™- ×™×¦×™×§×”': parseFloat(document.getElementById('time_plating').value)
                },
                profitMultiplier: {
                    '14K ×–×”×‘': parseFloat(document.getElementById('profit_14k').value),
                    '×›×¡×£': parseFloat(document.getElementById('profit_silver').value),
                    '×›×¡×£ ×™×¦×™×§×”': parseFloat(document.getElementById('profit_silver').value),
                    '×¦×™×¤×•×™- ×›×¡×£': parseFloat(document.getElementById('profit_plating').value),
                    '×¦×™×¤×•×™- ×™×¦×™×§×”': parseFloat(document.getElementById('profit_plating').value)
                }
            };
            
            localStorage.setItem('settings', JSON.stringify(settings));
            document.getElementById('settingsSaved').style.display = 'inline';
            setTimeout(() => {
                document.getElementById('settingsSaved').style.display = 'none';
            }, 3000);
        }

        // Initialize sample data if empty
        function initializeSampleData() {
            if (expenses.length === 0) {
                expenses = [
                    { id: 1, date: '2025-01-01', type: 'income', category: 'sales', description: '××›×™×¨×ª ×˜×‘×¢×ª ×–×”×‘', amount: 2850, recurring: false, workHours: 3 },
                    { id: 2, date: '2025-01-15', type: 'income', category: 'sales', description: '×¢×’×™×œ×™ ×›×¡×£', amount: 450, recurring: false, workHours: 1.5 },
                    { id: 3, date: '2025-01-10', type: 'expense', category: 'variable', description: '×¨×›×™×©×ª ×—×•××¨×™ ×’×œ×', amount: 1200, recurring: false },
                    { id: 4, date: '2025-01-20', type: 'expense', category: 'fixed', description: '×©×›×™×¨×•×ª', amount: 500, recurring: true, recurringMonths: 12 }
                ];
                localStorage.setItem('expenses', JSON.stringify(expenses));
            }

            if (products.length === 0) {
                products = [
                    { id: 1, type: '×˜×‘×¢×ª', name: '×¡×•×¤×™', material: '14K ×–×”×‘', cost: 1073, price: 1647, sitePrice: 1700, profit: 53 },
                    { id: 2, type: '×˜×‘×¢×ª', name: '×¢× ×‘×¨', material: '14K ×–×”×‘', cost: 706, price: 1084, sitePrice: 1000, profit: 42 },
                    { id: 3, type: '×˜×‘×¢×ª', name: '×˜×‘×™×¢×ª ××¦×‘×¢', material: '×›×¡×£ ×™×¦×™×§×”', cost: 218, price: 387, sitePrice: 399, profit: 77 },
                    { id: 4, type: '×¢×’×™×œ×™×', name: '×’×¨×™×™×¡', material: '×¦×™×¤×•×™- ×›×¡×£', cost: 250, price: 400, sitePrice: 439, profit: 60 }
                ];
                localStorage.setItem('products', JSON.stringify(products));
            }

            if (orders.length === 0) {
                orders = [
                    { id: 2014, date: '2025-01-01', customer: '××¨×™××œ ×‘×¨×§', products: '×¢×’×™×œ×™ ×’×¨×™×™×¡', amount: 439, status: 'delivered', month: 1, receiptSent: true },
                    { id: 2015, date: '2025-01-04', customer: '×›×œ×™×œ ×‘× ×™×©×•', products: '×¦××™×“ ×—×¨×™×˜×”', amount: 359, status: 'shipped', month: 1, receiptSent: true },
                    { id: 2016, date: '2025-01-12', customer: '×—×™×” ×¦×³×—×•×•×™×œ×™', products: '×©×¨×©×¨×ª ×œ×‘', amount: 299, status: 'ready', month: 1, receiptSent: false },
                    { id: 2017, date: '2025-01-15', customer: '×˜×œ', products: '×˜×‘×¢×ª ×’×œ ×¢× ×××¨×œ×“', amount: 1620, status: 'processing', month: 1, receiptSent: false },
                    { id: 2018, date: '2025-01-17', customer: '×œ×™××œ ×•×‘× ×™×”×•', products: '×˜×‘×¢×•×ª ×–×”×‘', amount: 3060, status: 'new', month: 1, receiptSent: false }
                ];
                localStorage.setItem('orders', JSON.stringify(orders));
            }
        }

        // Tab Switching
        function switchTab(tabName) {
            // Update nav tabs
            document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
            if (tabName !== 'settings') {
                event.target.classList.add('active');
            }
            
            // Update sections
            document.querySelectorAll('.section').forEach(section => section.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            
            // Load data for the selected tab
            if (tabName === 'expenses') {
                loadExpenseData();
            } else if (tabName === 'pricing') {
                loadProducts();
                updateAllPrices();
            } else if (tabName === 'orders') {
                loadOrders();
            }
        }

        // Expense Management
        function loadExpenseData() {
            const year = document.getElementById('expenseYear').value;
            const month = parseInt(document.getElementById('expenseMonth').value);
            
            let filteredExpenses = expenses.filter(e => {
                const date = new Date(e.date);
                return date.getFullYear() == year && (month === 0 || date.getMonth() + 1 === month);
            });
            
            // Calculate statistics
            const income = filteredExpenses.filter(e => e.type === 'income').reduce((sum, e) => sum + e.amount, 0);
            const expensesTotal = filteredExpenses.filter(e => e.type === 'expense').reduce((sum, e) => sum + e.amount, 0);
            const profit = income - expensesTotal;
            const margin = income > 0 ? ((profit / income) * 100).toFixed(1) : 0;
            
            document.getElementById('totalIncome').textContent = `â‚ª${income.toLocaleString()}`;
            document.getElementById('totalExpenses').textContent = `â‚ª${expensesTotal.toLocaleString()}`;
            document.getElementById('netProfit').textContent = `â‚ª${profit.toLocaleString()}`;
            document.getElementById('profitMargin').textContent = `${margin}%`;
            
            // Load table
            const tbody = document.querySelector('#expenseTable tbody');
            tbody.innerHTML = '';
            
            filteredExpenses.forEach(expense => {
                const row = tbody.insertRow();
                const workHoursText = expense.type === 'income' && expense.workHours ? 
                    ` (${expense.workHours} ×©×¢×•×ª)` : '';
                
                row.innerHTML = `
                    <td>${new Date(expense.date).toLocaleDateString('he-IL')}</td>
                    <td>${expense.type === 'income' ? '×”×›× ×¡×”' : '×”×•×¦××”'}</td>
                    <td>${getCategoryName(expense.category)}</td>
                    <td>${expense.description}${workHoursText}</td>
                    <td style="color: ${expense.type === 'income' ? 'green' : 'red'}">
                        ${expense.type === 'income' ? '+' : '-'}â‚ª${expense.amount}
                    </td>
                    <td>${expense.recurring ? 'âœ…' : ''}</td>
                    <td>
                        <div class="action-buttons">
                            <button onclick="editExpense(${expense.id})" class="btn-warning btn-small">âœï¸</button>
                            <button onclick="deleteExpense(${expense.id})" class="btn-danger btn-small">ğŸ—‘ï¸</button>
                            ${expense.recurring ? `<button onclick="stopRecurring(${expense.id})" class="btn-secondary btn-small" title="×”×¤×¡×§ ×—×–×¨×”">â¹ï¸</button>` : ''}
                        </div>
                    </td>
                `;
            });
        }

        function calculateSalary() {
            const hours = parseFloat(document.getElementById('workHours').value) || 0;
            const salary = hours * (settings.salaryHourRate || 50);
            document.getElementById('calculatedSalary').textContent = `â‚ª${salary.toFixed(2)}`;
        }

        function calculateSalaryFromIncome() {
            const year = document.getElementById('expenseYear').value;
            const month = parseInt(document.getElementById('expenseMonth').value);
            
            let filteredIncome = expenses.filter(e => {
                const date = new Date(e.date);
                return e.type === 'income' && 
                       date.getFullYear() == year && 
                       (month === 0 || date.getMonth() + 1 === month);
            });
            
            let totalHours = 0;
            filteredIncome.forEach(income => {
                if (income.workHours) {
                    totalHours += income.workHours;
                }
            });
            
            const salary = totalHours * (settings.salaryHourRate || 50);
            document.getElementById('workHours').value = totalHours;
            document.getElementById('calculatedSalary').textContent = `â‚ª${salary.toFixed(2)}`;
            
            alert(`×¡×”"×› ×©×¢×•×ª ×¢×‘×•×“×”: ${totalHours}\n××©×›×•×¨×ª ××—×•×©×‘×ª: â‚ª${salary.toFixed(2)}`);
        }

        function stopRecurring(id) {
            const expense = expenses.find(e => e.id === id);
            if (expense && confirm('×”×× ×œ×”×¤×¡×™×§ ××ª ×”×—×–×¨×” ×”×—×•×“×©×™×ª ×©×œ ×”×•×¦××” ×–×•?')) {
                expense.recurring = false;
                delete expense.recurringMonths;
                localStorage.setItem('expenses', JSON.stringify(expenses));
                loadExpenseData();
            }
        }

        function getCategoryName(category) {
            const categories = {
                'fixed': '×§×‘×•×¢×•×ª',
                'variable': '××©×ª× ×•×ª',
                'general': '×›×œ×œ×™×•×ª',
                'sales': '××›×™×¨×•×ª',
                'other': '××—×¨'
            };
            return categories[category] || category;
        }

        function showAddExpenseModal() {
            document.getElementById('addExpenseModal').classList.add('active');
            document.getElementById('expenseDate').valueAsDate = new Date();
        }

        function editExpense(id) {
            const expense = expenses.find(e => e.id === id);
            if (!expense) return;
            
            document.getElementById('editExpenseId').value = id;
            document.getElementById('editExpenseType').value = expense.type;
            document.getElementById('editExpenseCategory').value = expense.category;
            document.getElementById('editExpenseDescription').value = expense.description;
            document.getElementById('editExpenseAmount').value = expense.amount;
            document.getElementById('editExpenseDate').value = expense.date;
            
            document.getElementById('editExpenseModal').classList.add('active');
        }

        function deleteExpense(id) {
            if (confirm('×”×× ×œ××—×•×§ ×¨×©×•××” ×–×•?')) {
                expenses = expenses.filter(e => e.id !== id);
                localStorage.setItem('expenses', JSON.stringify(expenses));
                loadExpenseData();
            }
        }

        function applyRecurringExpenses() {
            const month = parseInt(document.getElementById('expenseMonth').value);
            const year = document.getElementById('expenseYear').value;
            
            if (month === 0) {
                alert('×× × ×‘×—×¨ ×—×•×“×© ×¡×¤×¦×™×¤×™ ×œ×”×—×œ×ª ×”×•×¦××•×ª ×§×‘×•×¢×•×ª');
                return;
            }
            
            const recurringExpenses = expenses.filter(e => e.recurring && e.type === 'expense');
            const addedExpenses = [];
            
            recurringExpenses.forEach(expense => {
                // ×‘×“×™×§×” ×× ×”×”×•×¦××” ×¢×“×™×™×Ÿ ×‘×ª×•×§×£
                const originalDate = new Date(expense.date);
                const monthsSinceStart = ((year - originalDate.getFullYear()) * 12) + 
                                        (month - 1 - originalDate.getMonth());
                
                if (expense.recurringMonths && monthsSinceStart >= expense.recurringMonths) {
                    return; // ×”×”×•×¦××” ×”×§×‘×•×¢×” ×”×¡×ª×™×™××”
                }
                
                const existingThisMonth = expenses.find(e => {
                    const date = new Date(e.date);
                    return date.getMonth() + 1 === month && 
                           date.getFullYear() == year && 
                           e.description === expense.description &&
                           e.recurring === false;
                });
                
                if (!existingThisMonth) {
                    const newExpense = {
                        id: Date.now() + Math.random(),
                        date: `${year}-${String(month).padStart(2, '0')}-01`,
                        type: 'expense',
                        category: expense.category,
                        description: expense.description,
                        amount: expense.amount,
                        recurring: false,
                        originalRecurringId: expense.id
                    };
                    addedExpenses.push(newExpense);
                }
            });
            
            if (addedExpenses.length > 0) {
                expenses = [...expenses, ...addedExpenses];
                localStorage.setItem('expenses', JSON.stringify(expenses));
                loadExpenseData();
                alert(`× ×•×¡×¤×• ${addedExpenses.length} ×”×•×¦××•×ª ×§×‘×•×¢×•×ª ×œ×—×•×“×© ${month}/${year}`);
            } else {
                alert('×›×œ ×”×”×•×¦××•×ª ×”×§×‘×•×¢×•×ª ×›×‘×¨ ×§×™×™××•×ª ×‘×—×•×“×© ×–×” ××• ×”×¡×ª×™×™××•');
            }
        }

        // Product Pricing
        function updateMaterialPrice() {
            const material = document.getElementById('material').value;
            if (material) {
                calculatePrice();
            }
        }

        function calculatePrice() {
            const material = document.getElementById('material').value;
            const weight = parseFloat(document.getElementById('materialWeight').value) || 0;
            const stones = parseFloat(document.getElementById('stonesAddition').value) || 0;
            const other = parseFloat(document.getElementById('otherAdditions').value) || 0;
            
            if (!material || weight === 0) return;
            
            // Calculate costs
            const materialCost = weight * (settings.materialPrices[material] || 0);
            const laborCost = (settings.laborTime[material] || 1) * settings.laborHourRate;
            const additionsCost = stones + other + settings.packagingCost;
            const totalCost = materialCost + laborCost + additionsCost + settings.fixedCosts;
            const totalWithFees = totalCost * (1 + settings.processingFee) * (1 + settings.vatRate);
            const recommendedPrice = Math.ceil(totalWithFees * (settings.profitMultiplier[material] || 1.5));
            const profitAmount = recommendedPrice - totalWithFees;
            const profitPercent = ((profitAmount / totalWithFees) * 100).toFixed(1);
            
            // Store current calculation
            currentCalculation = {
                type: document.getElementById('productType').value,
                name: document.getElementById('modelName').value,
                material: material,
                cost: totalWithFees,
                price: recommendedPrice,
                profit: parseFloat(profitPercent)
            };
            
            // Display results
            document.getElementById('materialCost').textContent = `â‚ª${materialCost.toFixed(2)}`;
            document.getElementById('laborCost').textContent = `â‚ª${laborCost.toFixed(2)}`;
            document.getElementById('additionsCost').textContent = `â‚ª${additionsCost.toFixed(2)}`;
            document.getElementById('totalCost').textContent = `â‚ª${totalWithFees.toFixed(2)}`;
            document.getElementById('recommendedPrice').textContent = `â‚ª${recommendedPrice}`;
            document.getElementById('profitPercentage').textContent = `${profitPercent}%`;
            document.getElementById('priceDisplay').style.display = 'block';
        }

        function saveProduct() {
            if (!currentCalculation.name || !currentCalculation.type) {
                alert('×× × ××œ× ××ª ×›×œ ×¤×¨×˜×™ ×”××•×¦×¨ ×•×—×©×‘ ××—×™×¨');
                return;
            }
            
            const newProduct = {
                id: Date.now(),
                type: currentCalculation.type,
                name: currentCalculation.name,
                material: currentCalculation.material,
                cost: currentCalculation.cost,
                price: currentCalculation.price,
                sitePrice: currentCalculation.price,
                profit: currentCalculation.profit
            };
            
            products.push(newProduct);
            localStorage.setItem('products', JSON.stringify(products));
            
            alert('×”××•×¦×¨ × ×©××¨ ×‘×”×¦×œ×—×”!');
            document.getElementById('pricingForm').reset();
            document.getElementById('priceDisplay').style.display = 'none';
            loadProducts();
            updateAllPrices();
        }

        function updateAllPrices() {
            const globalDiscount = parseFloat(document.getElementById('globalDiscount').value) || 0;
            const tbody = document.querySelector('#discountTable tbody');
            tbody.innerHTML = '';
            
            products.forEach(product => {
                const row = tbody.insertRow();
                const discountedPrice = product.sitePrice * (1 - globalDiscount / 100);
                const profit = discountedPrice - product.cost;
                const profitPercent = product.cost > 0 ? ((profit / product.cost) * 100).toFixed(1) : 0;
                
                row.innerHTML = `
                    <td>${product.name}</td>
                    <td>â‚ª${product.sitePrice}</td>
                    <td>
                        <input type="number" value="${globalDiscount}" min="0" max="100" 
                               onchange="updateProductDiscount(${product.id}, this.value)"
                               style="width: 80px;">
                    </td>
                    <td>â‚ª${discountedPrice.toFixed(2)}</td>
                    <td>â‚ª${product.cost.toFixed(2)}</td>
                    <td style="color: ${profit > 0 ? 'green' : 'red'}">â‚ª${profit.toFixed(2)}</td>
                    <td style="color: ${profit > 0 ? 'green' : 'red'}">${profitPercent}%</td>
                `;
            });
        }

        function updateProductDiscount(productId, discount) {
            const row = event.target.closest('tr');
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const discountedPrice = product.sitePrice * (1 - parseFloat(discount) / 100);
            const profit = discountedPrice - product.cost;
            const profitPercent = product.cost > 0 ? ((profit / product.cost) * 100).toFixed(1) : 0;
            
            row.cells[3].textContent = `â‚ª${discountedPrice.toFixed(2)}`;
            row.cells[5].textContent = `â‚ª${profit.toFixed(2)}`;
            row.cells[5].style.color = profit > 0 ? 'green' : 'red';
            row.cells[6].textContent = `${profitPercent}%`;
            row.cells[6].style.color = profit > 0 ? 'green' : 'red';
        }

        function loadProducts() {
            const tbody = document.querySelector('#productsTable tbody');
            tbody.innerHTML = '';
            
            const categoryFilter = document.getElementById('categoryFilter').value;
            const materialFilter = document.getElementById('materialFilter').value;
            
            let filteredProducts = products.filter(p => {
                return (!categoryFilter || p.type === categoryFilter) &&
                       (!materialFilter || p.material.includes(materialFilter));
            });
            
            filteredProducts.forEach(product => {
                const row = tbody.insertRow();
                const profitAmount = product.sitePrice - product.cost;
                const profitPercent = product.cost > 0 ? ((profitAmount / product.cost) * 100).toFixed(1) : 0;
                
                row.innerHTML = `
                    <td>${product.type}</td>
                    <td>${product.name}</td>
                    <td>${product.material}</td>
                    <td>â‚ª${product.cost.toFixed(2)}</td>
                    <td>â‚ª${product.price}</td>
                    <td class="editable" onclick="editSitePrice(${product.id}, this)">â‚ª${product.sitePrice}</td>
                    <td>${profitPercent}%</td>
                    <td>
                        <div class="action-buttons">
                            <button onclick="editProduct(${product.id})" class="btn-warning btn-small">âœï¸</button>
                            <button onclick="deleteProduct(${product.id})" class="btn-danger btn-small">ğŸ—‘ï¸</button>
                        </div>
                    </td>
                `;
            });
        }

        function editSitePrice(productId, cell) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const currentPrice = product.sitePrice;
            const input = document.createElement('input');
            input.type = 'number';
            input.className = 'edit-input';
            input.value = currentPrice;
            
            input.onblur = function() {
                product.sitePrice = parseFloat(this.value) || currentPrice;
                localStorage.setItem('products', JSON.stringify(products));
                loadProducts();
            };
            
            input.onkeypress = function(e) {
                if (e.key === 'Enter') {
                    this.blur();
                }
            };
            
            cell.innerHTML = '';
            cell.appendChild(input);
            input.focus();
            input.select();
        }

        function showAddProductModal() {
            document.getElementById('addProductModal').classList.add('active');
        }

        function editProduct(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;
            
            document.getElementById('editProductId').value = id;
            document.getElementById('editProductType').value = product.type;
            document.getElementById('editProductName').value = product.name;
            document.getElementById('editProductMaterial').value = product.material;
            document.getElementById('editProductCost').value = product.cost;
            document.getElementById('editProductPrice').value = product.price;
            document.getElementById('editProductSitePrice').value = product.sitePrice;
            
            document.getElementById('editProductModal').classList.add('active');
        }

        function deleteProduct(id) {
            if (confirm('×”×× ×œ××—×•×§ ××•×¦×¨ ×–×”?')) {
                products = products.filter(p => p.id !== id);
                localStorage.setItem('products', JSON.stringify(products));
                loadProducts();
                updateAllPrices();
            }
        }

        function filterProducts() {
            loadProducts();
        }

        // Order Management
        function loadOrders() {
            const month = parseInt(document.getElementById('orderMonth').value);
            const statusFilter = document.getElementById('orderStatus').value;
            const receiptFilter = document.getElementById('receiptFilter').value;
            
            let filteredOrders = orders.filter(o => {
                const receiptMatch = !receiptFilter || 
                    (receiptFilter === 'sent' && o.receiptSent) || 
                    (receiptFilter === 'not-sent' && !o.receiptSent);
                return o.month === month && 
                       (!statusFilter || o.status === statusFilter) &&
                       receiptMatch;
            });
            
            // Calculate statistics
            const totalOrders = filteredOrders.length;
            const inProgress = filteredOrders.filter(o => o.status === 'processing' || o.status === 'new').length;
            const revenue = filteredOrders.reduce((sum, o) => sum + o.amount, 0);
            const receiptsNotSent = filteredOrders.filter(o => !o.receiptSent).length;
            
            document.getElementById('totalOrders').textContent = totalOrders;
            document.getElementById('ordersInProgress').textContent = inProgress;
            document.getElementById('ordersRevenue').textContent = `â‚ª${revenue.toLocaleString()}`;
            document.getElementById('receiptsNotSent').textContent = receiptsNotSent;
            
            // Load table
            const tbody = document.querySelector('#ordersTable tbody');
            tbody.innerHTML = '';
            
            filteredOrders.forEach(order => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${order.id}</td>
                    <td>${new Date(order.date).toLocaleDateString('he-IL')}</td>
                    <td>${order.customer}</td>
                    <td>${order.products}</td>
                    <td>â‚ª${order.amount}</td>
                    <td>
                        <span class="receipt-badge ${order.receiptSent ? 'receipt-sent' : 'receipt-not-sent'}" 
                              onclick="toggleReceipt(${order.id})">
                            ${order.receiptSent ? 'âœ“ × ×©×œ×—×”' : 'âœ— ×œ× × ×©×œ×—×”'}
                        </span>
                    </td>
                    <td>
                        <span class="status-badge status-${order.status}" onclick="changeOrderStatus(${order.id})">
                            ${getStatusName(order.status)}
                        </span>
                    </td>
                    <td>
                        <button onclick="deleteOrder(${order.id})" class="btn-danger btn-small">ğŸ—‘ï¸</button>
                    </td>
                `;
            });
        }

        function getStatusName(status) {
            const statuses = {
                'new': '×—×“×©',
                'processing': '×‘×¢×‘×•×“×”',
                'ready': '××•×›×Ÿ',
                'shipped': '× ×©×œ×—',
                'delivered': '× ××¡×¨'
            };
            return statuses[status] || status;
        }

        function changeOrderStatus(orderId) {
            const order = orders.find(o => o.id === orderId);
            if (!order) return;
            
            const statuses = ['new', 'processing', 'ready', 'shipped', 'delivered'];
            const currentIndex = statuses.indexOf(order.status);
            const nextIndex = (currentIndex + 1) % statuses.length;
            order.status = statuses[nextIndex];
            
            localStorage.setItem('orders', JSON.stringify(orders));
            loadOrders();
        }

        function toggleReceipt(orderId) {
            const order = orders.find(o => o.id === orderId);
            if (!order) return;
            
            order.receiptSent = !order.receiptSent;
            localStorage.setItem('orders', JSON.stringify(orders));
            loadOrders();
        }

        function showAddOrderModal() {
            document.getElementById('addOrderModal').classList.add('active');
        }

        function deleteOrder(id) {
            if (confirm('×”×× ×œ××—×•×§ ×”×–×× ×” ×–×•?')) {
                orders = orders.filter(o => o.id !== id);
                localStorage.setItem('orders', JSON.stringify(orders));
                loadOrders();
            }
        }

        // Modal Management
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Form Submissions
        document.getElementById('addExpenseForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newExpense = {
                id: Date.now(),
                date: document.getElementById('expenseDate').value,
                type: document.getElementById('expenseType').value,
                category: document.getElementById('expenseCategory').value,
                description: document.getElementById('expenseDescription').value,
                amount: parseFloat(document.getElementById('expenseAmount').value),
                recurring: document.getElementById('isRecurring').checked
            };
            
            expenses.push(newExpense);
            localStorage.setItem('expenses', JSON.stringify(expenses));
            
            closeModal('addExpenseModal');
            this.reset();
            loadExpenseData();
        });

        document.getElementById('editExpenseForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const id = parseInt(document.getElementById('editExpenseId').value);
            const expense = expenses.find(e => e.id === id);
            
            if (expense) {
                expense.type = document.getElementById('editExpenseType').value;
                expense.category = document.getElementById('editExpenseCategory').value;
                expense.description = document.getElementById('editExpenseDescription').value;
                expense.amount = parseFloat(document.getElementById('editExpenseAmount').value);
                expense.date = document.getElementById('editExpenseDate').value;
                
                localStorage.setItem('expenses', JSON.stringify(expenses));
                closeModal('editExpenseModal');
                loadExpenseData();
            }
        });

        document.getElementById('addProductForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newProduct = {
                id: Date.now(),
                type: document.getElementById('newProductType').value,
                name: document.getElementById('newProductName').value,
                material: document.getElementById('newProductMaterial').value,
                cost: parseFloat(document.getElementById('newProductCost').value),
                price: parseFloat(document.getElementById('newProductPrice').value),
                sitePrice: parseFloat(document.getElementById('newProductSitePrice').value),
                profit: 0
            };
            
            // Calculate profit
            const profitAmount = newProduct.sitePrice - newProduct.cost;
            newProduct.profit = newProduct.cost > 0 ? ((profitAmount / newProduct.cost) * 100) : 0;
            
            products.push(newProduct);
            localStorage.setItem('products', JSON.stringify(products));
            
            closeModal('addProductModal');
            this.reset();
            loadProducts();
            updateAllPrices();
        });

        document.getElementById('editProductForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const id = parseInt(document.getElementById('editProductId').value);
            const product = products.find(p => p.id === id);
            
            if (product) {
                product.type = document.getElementById('editProductType').value;
                product.name = document.getElementById('editProductName').value;
                product.material = document.getElementById('editProductMaterial').value;
                product.cost = parseFloat(document.getElementById('editProductCost').value);
                product.price = parseFloat(document.getElementById('editProductPrice').value);
                product.sitePrice = parseFloat(document.getElementById('editProductSitePrice').value);
                
                // Recalculate profit
                const profitAmount = product.sitePrice - product.cost;
                product.profit = product.cost > 0 ? ((profitAmount / product.cost) * 100) : 0;
                
                localStorage.setItem('products', JSON.stringify(products));
                closeModal('editProductModal');
                loadProducts();
                updateAllPrices();
            }
        });

        document.getElementById('addOrderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const month = parseInt(document.getElementById('orderMonth').value);
            const newOrder = {
                id: nextOrderNumber++,
                date: new Date().toISOString(),
                customer: document.getElementById('customerName').value,
                products: document.getElementById('orderProducts').value,
                amount: parseFloat(document.getElementById('orderAmount').value),
                notes: document.getElementById('orderNotes').value,
                status: 'new',
                month: month,
                receiptSent: document.getElementById('receiptSent').checked
            };
            
            orders.push(newOrder);
            localStorage.setItem('orders', JSON.stringify(orders));
            localStorage.setItem('nextOrderNumber', nextOrderNumber.toString());
            
            closeModal('addOrderModal');
            this.reset();
            loadOrders();
        });

        // Close modal when clicking outside
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
        });

        // Initialize on load
        initializeSettings();
        initializeSampleData();
        loadExpenseData();
    </script>
</body>
</html><!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××¢×¨×›×ª × ×™×”×•×œ ×¢×¡×§×™×ª ××ª×§×“××ª</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .settings-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid white;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .settings-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 3px solid #667eea;
            overflow-x: auto;
        }

        .nav-tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            color: #555;
            border: none;
            background: none;
            font-size: 1.1em;
        }

        .nav-tab:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .nav-tab.active {
            background: white;
            color: #667eea;
            box-shadow: 0 -3px 0 #667eea inset;
        }

        .content {
            padding: 30px;
            min-height: 500px;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .form-row > * {
            flex: 1;
            min-width: 200px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #333;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: #6c757d;
            box-shadow: 0 4px 15px rgba(108, 117, 125, 0.3);
        }

        .btn-danger {
            background: #dc3545;
            box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3);
        }

        .btn-success {
            background: #28a745;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }

        .btn-warning {
            background: #ffc107;
            color: #333;
            box-shadow: 0 4px 15px rgba(255, 193, 7, 0.3);
        }

        .btn-small {
            padding: 5px 10px;
            font-size: 14px;
        }

        /* Cards */
        .card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
        }

        .card:hover {
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        }

        .card-header {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            padding: 12px;
            text-align: right;
            border-bottom: 1px solid #e0e0e0;
        }

        th {
            background: #f8f9fa;
            font-weight: 600;
            color: #333;
        }

        tr:hover {
            background: #f8f9fa;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        /* Filters */
        .filters {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: end;
        }

        .filter-group {
            flex: 1;
            min-width: 150px;
        }

        /* Order Status Badge */
        .status-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            cursor: pointer;
        }

        .status-new { background: #ffc107; color: #000; }
        .status-processing { background: #17a2b8; color: white; }
        .status-ready { background: #28a745; color: white; }
        .status-shipped { background: #6c757d; color: white; }
        .status-delivered { background: #007bff; color: white; }

        /* Receipt Badge */
        .receipt-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            margin-right: 5px;
            cursor: pointer;
        }

        .receipt-sent {
            background: #28a745;
            color: white;
        }

        .receipt-not-sent {
            background: #dc3545;
            color: white;
        }

        /* Price Display */
        .price-display {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
        }

        .price-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #dee2e6;
        }

        .price-item:last-child {
            border-bottom: none;
            font-size: 1.2em;
            font-weight: bold;
            color: #667eea;
        }

        /* Discount Calculator */
        .discount-calculator {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
        }

        .discount-input {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 15px;
        }

        .discount-input input {
            width: 100px;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 12px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #333;
        }

        .modal-footer {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        /* Settings Panel */
        .settings-panel {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 12px;
        }

        .settings-section {
            margin-bottom: 30px;
        }

        .settings-section h3 {
            margin-bottom: 15px;
            color: #667eea;
        }

        .settings-row {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            align-items: center;
        }

        .settings-row label {
            min-width: 200px;
        }

        .settings-row input {
            width: 150px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .nav-tab {
                font-size: 0.9em;
                padding: 15px 10px;
            }
            
            .content {
                padding: 20px;
            }
            
            .form-row {
                flex-direction: column;
            }

            .settings-btn {
                position: static;
                margin-top: 15px;
            }
        }

        /* Loading Spinner */
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Success Message */
        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #c3e6cb;
            display: none;
        }

        .success-message.show {
            display: block;
            animation: slideDown 0.3s;
        }

        @keyframes slideDown {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Editable cells */
        .editable {
            cursor: pointer;
            position: relative;
        }

        .editable:hover {
            background: #e9ecef;
        }

        .edit-input {
            width: 100%;
            padding: 5px;
            border: 2px solid #667eea;
            border-radius: 4px;
        }

        /* Action buttons */
        .action-buttons {
            display: flex;
            gap: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <button class="settings-btn" onclick="switchTab('settings')">âš™ï¸ ×”×’×“×¨×•×ª</button>
            <h1>ğŸ¢ ××¢×¨×›×ª × ×™×”×•×œ ×¢×¡×§×™×ª ××ª×§×“××ª</h1>
            <p>× ×™×”×•×œ ×”×•×¦××•×ª, ×ª××—×•×¨ ××•×¦×¨×™× ×•××¢×§×‘ ×”×–×× ×•×ª</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('expenses')">ğŸ’° ×”×›× ×¡×•×ª ×•×”×•×¦××•×ª</button>
            <button class="nav-tab" onclick="switchTab('pricing')">ğŸ’ ×ª××—×•×¨ ××•×¦×¨×™×</button>
            <button class="nav-tab" onclick="switchTab('orders')">ğŸ“¦ × ×™×”×•×œ ×”×–×× ×•×ª</button>
        </div>

        <div class="content">
            <!-- Settings Section -->
            <div id="settings" class="section">
                <div class="settings-panel">
                    <h2>×”×’×“×¨×•×ª ××¢×¨×›×ª</h2>
                    
                    <div class="settings-section">
                        <h3>×§×‘×•×¢×™× ×œ×—×™×©×•×‘ ××—×™×¨×™×</h3>
                        
                        <div class="settings-row">
                            <label>××¢"× (%):</label>
                            <input type="number" id="vatRate" value="17" step="0.1" onchange="saveSettings()">
                        </div>
                        
                        <div class="settings-row">
                            <label>×¢××œ×ª ×¡×œ×™×§×” (%):</label>
                            <input type="number" id="processingFee" value="2.5" step="0.1" onchange="saveSettings()">
                        </div>
                        
                        <div class="settings-row">
                            <label>×¢×œ×•×ª ××¨×™×–×” (â‚ª):</label>
                            <input type="number" id="packagingCost" value="15" step="1" onchange="saveSettings()">
                        </div>
                        
                        <div class="settings-row">
                            <label>×”×•×¦××•×ª ×§×‘×•×¢×•×ª (â‚ª):</label>
                            <input type="number" id="fixedCosts" value="50" step="1" onchange="saveSettings()">
                        </div>
                        
                        <div class="settings-row">
                            <label>××—×™×¨ ×œ×©×¢×ª ×¢×‘×•×“×” (â‚ª):</label>
                            <input type="number" id="laborHourRate" value="100" step="10" onchange="saveSettings()">
                        </div>
                        
                        <div class="settings-row">
                            <label>×ª×¢×¨×™×£ ×©×¢×ª ×¢×‘×•×“×” ×œ××©×›×•×¨×ª (â‚ª):</label>
                            <input type="number" id="salaryHourRate" value="50" step="5" onchange="saveSettings()">
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>××—×™×¨×™ ×—×•××¨×™ ×’×œ× (â‚ª ×œ×’×¨×)</h3>
                        
                        <div class="settings-row">
                            <label>14K ×–×”×‘:</label>
                            <input type="number" id="price_14k" value="230" step="1" onchange="saveSettings()">
                        </div>
                        
                        <div class="settings-row">
                            <label>×›×¡×£:</label>
                            <input type="number" id="price_silver" value="8" step="0.1" onchange="saveSettings()">
                        </div>
                        
                        <div class="settings-row">
                            <label>×›×¡×£ ×™×¦×™×§×”:</label>
                            <input type="number" id="price_silver_cast" value="8" step="0.1" onchange="saveSettings()">
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>××›×¤×™×œ ×¨×•×•×— ×œ×¤×™ ×—×•××¨</h3>
                        
                        <div class="settings-row">
                            <label>14K ×–×”×‘:</label>
                            <input type="number" id="profit_14k" value="1.53" step="0.01" onchange="saveSettings()">
                        </div>
                        
                        <div class="settings-row">
                            <label>×›×¡×£:</label>
                            <input type="number" id="profit_silver" value="1.77" step="0.01" onchange="saveSettings()">
                        </div>
                        
                        <div class="settings-row">
                            <label>×¦×™×¤×•×™:</label>
                            <input type="number" id="profit_plating" value="1.60" step="0.01" onchange="saveSettings()">
                        </div>
                    </div>

                    <div class="settings-section">
                        <h3>×–××Ÿ ×¢×‘×•×“×” ×œ×¤×™ ×—×•××¨ (×©×¢×•×ª)</h3>
                        
                        <div class="settings-row">
                            <label>14K ×–×”×‘:</label>
                            <input type="number" id="time_14k" value="2" step="0.1" onchange="saveSettings()">
                        </div>
                        
                        <div class="settings-row">
                            <label>×›×¡×£:</label>
                            <input type="number" id="time_silver" value="1.5" step="0.1" onchange="saveSettings()">
                        </div>
                        
                        <div class="settings-row">
                            <label>×¦×™×¤×•×™:</label>
                            <input type="number" id="time_plating" value="1" step="0.1" onchange="saveSettings()">
                        </div>
                    </div>

                    <button onclick="saveSettings()" class="btn-success">ğŸ’¾ ×©××•×¨ ×”×’×“×¨×•×ª</button>
                    <span id="settingsSaved" style="margin-right: 10px; color: green; display: none;">âœ… ×”×”×’×“×¨×•×ª × ×©××¨×•!</span>
                </div>
            </div>

            <!-- Expenses Section -->
            <div id="expenses" class="section active">
                <div class="filters">
                    <div class="filter-group">
                        <label>×©× ×”:</label>
                        <select id="expenseYear" onchange="loadExpenseData()">
                            <option value="2024">2024</option>
                            <option value="2025" selected>2025</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>×—×•×“×©:</label>
                        <select id="expenseMonth" onchange="loadExpenseData()">
                            <option value="0">×›×œ ×”×©× ×”</option>
                            <option value="1">×™× ×•××¨</option>
                            <option value="2">×¤×‘×¨×•××¨</option>
                            <option value="3">××¨×¥</option>
                            <option value="4">××¤×¨×™×œ</option>
                            <option value="5">×××™</option>
                            <option value="6">×™×•× ×™</option>
                            <option value="7">×™×•×œ×™</option>
                            <option value="8">××•×’×•×¡×˜</option>
                            <option value="9">×¡×¤×˜××‘×¨</option>
                            <option value="10">××•×§×˜×•×‘×¨</option>
                            <option value="11">× ×•×‘××‘×¨</option>
                            <option value="12">×“×¦××‘×¨</option>
                        </select>
                    </div>
                    <button onclick="showAddExpenseModal()">â• ×”×•×¡×£ ×¨×©×•××”</button>
                    <button onclick="applyRecurringExpenses()" class="btn-warning">ğŸ”„ ×”×—×œ ×”×•×¦××•×ª ×§×‘×•×¢×•×ª</button>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="totalIncome">â‚ª0</div>
                        <div class="stat-label">×¡×”"×› ×”×›× ×¡×•×ª</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                        <div class="stat-value" id="totalExpenses">â‚ª0</div>
                        <div class="stat-label">×¡×”"×› ×”×•×¦××•×ª</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                        <div class="stat-value" id="netProfit">â‚ª0</div>
                        <div class="stat-label">×¨×•×•×— × ×§×™</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                        <div class="stat-value" id="profitMargin">0%</div>
                        <div class="stat-label">××—×•×– ×¨×•×•×—</div>
                    </div>
                </div>

                <div class="card" style="margin-bottom: 20px;">
                    <div class="card-header">×—×™×©×•×‘ ××©×›×•×¨×ª</div>
                    <div style="padding: 15px;">
                        <div class="form-row">
                            <div class="form-group">
                                <label>×©×¢×•×ª ×¢×‘×•×“×”:</label>
                                <input type="number" id="workHours" min="0" step="0.5" placeholder="×”×›× ×¡ ×©×¢×•×ª ×¢×‘×•×“×”" onchange="calculateSalary()">
                            </div>
                            <div class="form-group">
                                <label>××©×›×•×¨×ª ××—×•×©×‘×ª:</label>
                                <div style="font-size: 1.5em; color: #667eea; font-weight: bold;">
                                    <span id="calculatedSalary">â‚ª0</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <button onclick="calculateSalaryFromIncome()" class="btn-success">×—×©×‘ ××©×›×•×¨×ª ××”×›× ×¡×•×ª</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">×¤×™×¨×•×˜ ×”×›× ×¡×•×ª ×•×”×•×¦××•×ª</div>
                    <table id="expenseTable">
                        <thead>
                            <tr>
                                <th>×ª××¨×™×š</th>
                                <th>×¡×•×’</th>
                                <th>×§×˜×’×•×¨×™×”</th>
                                <th>×ª×™××•×¨</th>
                                <th>×¡×›×•×</th>
                                <th>×—×•×–×¨</th>
                                <th>×¤×¢×•×œ×•×ª</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <!-- Pricing Section -->
            <div id="pricing" class="section">
                <div class="card">
                    <div class="card-header">×—×™×©×•×‘ ×ª××—×•×¨ ××•×¦×¨ ×—×“×©</div>
                    <form id="pricingForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>×¡×•×’ ××•×¦×¨:</label>
                                <select id="productType" required>
                                    <option value="">×‘×—×¨ ×¡×•×’</option>
                                    <option value="×˜×‘×¢×ª">×˜×‘×¢×ª</option>
                                    <option value="×¢×’×™×œ×™×">×¢×’×™×œ×™×</option>
                                    <option value="×©×¨×©×¨×ª">×©×¨×©×¨×ª</option>
                                    <option value="×¦××™×“">×¦××™×“</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>×©× ×“×’×:</label>
                                <input type="text" id="modelName" required>
                            </div>
                            <div class="form-group">
                                <label>×—×•××¨:</label>
                                <select id="material" onchange="updateMaterialPrice()" required>
                                    <option value="">×‘×—×¨ ×—×•××¨</option>
                                    <option value="14K ×–×”×‘">14K ×–×”×‘</option>
                                    <option value="×›×¡×£">×›×¡×£</option>
                                    <option value="×›×¡×£ ×™×¦×™×§×”">×›×¡×£ ×™×¦×™×§×”</option>
                                    <option value="×¦×™×¤×•×™- ×›×¡×£">×¦×™×¤×•×™ ×›×¡×£</option>
                                    <option value="×¦×™×¤×•×™- ×™×¦×™×§×”">×¦×™×¤×•×™ ×™×¦×™×§×”</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>××©×§×œ ×—×•××¨ (×’×¨×):</label>
                                <input type="number" id="materialWeight" step="0.1" min="0" onchange="calculatePrice()" required>
                            </div>
                            <div class="form-group">
                                <label>×ª×•×¡×¤×ª ××‘× ×™× (â‚ª):</label>
                                <input type="number" id="stonesAddition" value="0" min="0" onchange="calculatePrice()">
                            </div>
                            <div class="form-group">
                                <label>×ª×•×¡×¤×•×ª ××—×¨×•×ª (â‚ª):</label>
                                <input type="number" id="otherAdditions" value="0" min="0" onchange="calculatePrice()">
                            </div>
                        </div>

                        <div class="form-row">
                            <button type="button" onclick="calculatePrice()">×—×©×‘ ××—×™×¨</button>
                            <button type="button" onclick="saveProduct()" class="btn-success">ğŸ’¾ ×©××•×¨ ××•×¦×¨</button>
                        </div>
                    </form>

                    <div class="price-display" id="priceDisplay" style="display: none;">
                        <div class="price-item">
                            <span>×¢×œ×•×ª ×—×•××¨:</span>
                            <span id="materialCost">â‚ª0</span>
                        </div>
                        <div class="price-item">
                            <span>×¢×œ×•×ª ×¢×‘×•×“×”:</span>
                            <span id="laborCost">â‚ª0</span>
                        </div>
                        <div class="price-item">
                            <span>×ª×•×¡×¤×•×ª:</span>
                            <span id="additionsCost">â‚ª0</span>
                        </div>
                        <div class="price-item">
                            <span>×¡×”"×› ×¢×œ×•×™×•×ª (×›×•×œ×œ ×¢××œ×•×ª ×•××¢"×):</span>
                            <span id="totalCost">â‚ª0</span>
                        </div>
                        <div class="price-item">
                            <span>××—×™×¨ ××•××œ×¥ (×›×•×œ×œ ×¨×•×•×—):</span>
                            <span id="recommendedPrice">â‚ª0</span>
                        </div>
                        <div class="price-item">
                            <span>××—×•×– ×¨×•×•×—:</span>
                            <span id="profitPercentage">0%</span>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">×‘×“×™×§×ª ××—×™×¨×™× ×¢× ×”× ×—×•×ª</div>
                    <div class="discount-calculator">
                        <div class="discount-input">
                            <label>×”× ×—×” ×›×œ×œ×™×ª (%):</label>
                            <input type="number" id="globalDiscount" min="0" max="100" value="0" onchange="updateAllPrices()">
                            <button onclick="updateAllPrices()">×”×—×œ ×¢×œ ×›×œ ×”××•×¦×¨×™×</button>
                        </div>
                        <table id="discountTable">
                            <thead>
                                <tr>
                                    <th>××•×¦×¨</th>
                                    <th>××—×™×¨ ××§×•×¨×™</th>
                                    <th>×”× ×—×” ×¤×¨×˜× ×™×ª (%)</th>
                                    <th>××—×™×¨ ××—×¨×™ ×”× ×—×”</th>
                                    <th>×¢×œ×•×ª</th>
                                    <th>×¨×•×•×— × ×§×™</th>
                                    <th>××—×•×– ×¨×•×•×—</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">××—×™×¨×•×Ÿ ××•×¦×¨×™× ×§×™×™××™×</div>
                    <div class="filters">
                        <div class="filter-group">
                            <label>×¡×™× ×•×Ÿ ×œ×¤×™ ×§×˜×’×•×¨×™×”:</label>
                            <select id="categoryFilter" onchange="filterProducts()">
                                <option value="">×”×›×œ</option>
                                <option value="×˜×‘×¢×ª">×˜×‘×¢×•×ª</option>
                                <option value="×¢×’×™×œ×™×">×¢×’×™×œ×™×</option>
                                <option value="×©×¨×©×¨×ª">×©×¨×©×¨××•×ª</option>
                                <option value="×¦××™×“">×¦××™×“×™×</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>×¡×™× ×•×Ÿ ×œ×¤×™ ×—×•××¨:</label>
                            <select id="materialFilter" onchange="filterProducts()">
                                <option value="">×”×›×œ</option>
                                <option value="14K ×–×”×‘">14K ×–×”×‘</option>
                                <option value="×›×¡×£">×›×¡×£</option>
                                <option value="×¦×™×¤×•×™">×¦×™×¤×•×™</option>
                            </select>
                        </div>
                        <button onclick="showAddProductModal()" class="btn-success">â• ×”×•×¡×£ ××•×¦×¨</button>
                    </div>
                    <table id="productsTable">
                        <thead>
                            <tr>
                                <th>×¡×•×’ ××•×¦×¨</th>
                                <th>×©× ×“×’×</th>
                                <th>×—×•××¨</th>
                                <th>×¢×œ×•×ª</th>
                                <th>××—×™×¨ ××—×•×©×‘</th>
                                <th>××—×™×¨ ×‘××ª×¨</th>
                                <th>××—×•×– ×¨×•×•×—</th>
                                <th>×¤×¢×•×œ×•×ª</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <!-- Orders Section -->
            <div id="orders" class="section">
                <div class="filters">
                    <div class="filter-group">
                        <label>×—×•×“×©:</label>
                        <select id="orderMonth" onchange="loadOrders()">
                            <option value="1" selected>×™× ×•××¨</option>
                            <option value="2">×¤×‘×¨×•××¨</option>
                            <option value="3">××¨×¥</option>
                            <option value="4">××¤×¨×™×œ</option>
                            <option value="5">×××™</option>
                            <option value="6">×™×•× ×™</option>
                            <option value="7">×™×•×œ×™</option>
                            <option value="8">××•×’×•×¡×˜</option>
                            <option value="9">×¡×¤×˜××‘×¨</option>
                            <option value="10">××•×§×˜×•×‘×¨</option>
                            <option value="11">× ×•×‘××‘×¨</option>
                            <option value="12">×“×¦××‘×¨</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>×¡×˜×˜×•×¡:</label>
                        <select id="orderStatus" onchange="loadOrders()">
                            <option value="">×”×›×œ</option>
                            <option value="new">×—×“×©</option>
                            <option value="processing">×‘×¢×‘×•×“×”</option>
                            <option value="ready">××•×›×Ÿ</option>
                            <option value="shipped">× ×©×œ×—</option>
                            <option value="delivered">× ××¡×¨</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>×§×‘×œ×”:</label>
                        <select id="receiptFilter" onchange="loadOrders()">
                            <option value="">×”×›×œ</option>
                            <option value="sent">× ×©×œ×—×”</option>
                            <option value="not-sent">×œ× × ×©×œ×—×”</option>
                        </select>
                    </div>
                    <button onclick="showAddOrderModal()">â• ×”×–×× ×” ×—×“×©×”</button>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="totalOrders">0</div>
                        <div class="stat-label">×¡×”"×› ×”×–×× ×•×ª</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                        <div class="stat-value" id="ordersInProgress">0</div>
                        <div class="stat-label">×‘×¢×‘×•×“×”</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);">
                        <div class="stat-value" id="ordersRevenue">â‚ª0</div>
                        <div class="stat-label">×”×›× ×¡×•×ª ×”×—×•×“×©</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);">
                        <div class="stat-value" id="receiptsNotSent">0</div>
                        <div class="stat-label">×§×‘×œ×•×ª ×œ× × ×©×œ×—×•</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">×¨×©×™××ª ×”×–×× ×•×ª</div>
                    <table id="ordersTable">
                        <thead>
                            <tr>
                                <th>××¡' ×”×–×× ×”</th>
                                <th>×ª××¨×™×š</th>
                                <th>×œ×§×•×—</th>
                                <th>××•×¦×¨×™×</th>
                                <th>×¡×›×•×</th>
                                <th>×§×‘×œ×”</th>
                                <th>×¡×˜×˜×•×¡</th>
                                <th>×¤×¢×•×œ×•×ª</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="addExpenseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">×”×•×¡×¤×ª ×¨×©×•××” ×—×“×©×”</div>
            <form id="addExpenseForm">
                <div class="form-group">
                    <label>×¡×•×’:</label>
                    <select id="expenseType" required>
                        <option value="income">×”×›× ×¡×”</option>
                        <option value="expense">×”×•×¦××”</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>×§×˜×’×•×¨×™×”:</label>
                    <select id="expenseCategory" required>
                        <option value="">×‘×—×¨ ×§×˜×’×•×¨×™×”</option>
                        <option value="fixed">×”×•×¦××•×ª ×§×‘×•×¢×•×ª</option>
                        <option value="variable">×”×•×¦××•×ª ××©×ª× ×•×ª</option>
                        <option value="general">×”×•×¦××•×ª ×›×œ×œ×™×•×ª</option>
                        <option value="sales">××›×™×¨×•×ª</option>
                        <option value="other">××—×¨</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>×ª×™××•×¨:</label>
                    <input type="text" id="expenseDescription" required>
                </div>
                <div class="form-group">
                    <label>×¡×›×•×:</label>
                    <input type="number" id="expenseAmount" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label>×ª××¨×™×š:</label>
                    <input type="date" id="expenseDate" required>
                </div>
                <div class="form-group" id="workHoursGroup" style="display: none;">
                    <label>×©×¢×•×ª ×¢×‘×•×“×” (×œ×”×›× ×¡×•×ª):</label>
                    <input type="number" id="expenseWorkHours" min="0" step="0.5">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="isRecurring">
                        ×”×•×¦××” ×—×•×–×¨×ª ×—×•×“×©×™×ª
                    </label>
                </div>
                <div class="form-group" id="recurringMonths" style="display: none;">
                    <label>××¡×¤×¨ ×—×•×“×©×™× ×œ×—×–×¨×”:</label>
                    <input type="number" id="recurringMonthsCount" min="1" max="12" value="12">
                </div>
                <div class="modal-footer">
                    <button type="button" onclick="closeModal('addExpenseModal')" class="btn-secondary">×‘×™×˜×•×œ</button>
                    <button type="submit">×”×•×¡×£</button>
                </div>
            </form>
        </div>
    </div>

    <div id="editExpenseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">×¢×¨×™×›×ª ×¨×©×•××”</div>
            <form id="editExpenseForm">
                <input type="hidden" id="editExpenseId">
                <div class="form-group">
                    <label>×¡×•×’:</label>
                    <select id="editExpenseType" required>
                        <option value="income">×”×›× ×¡×”</option>
                        <option value="expense">×”×•×¦××”</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>×§×˜×’×•×¨×™×”:</label>
                    <select id="editExpenseCategory" required>
                        <option value="">×‘×—×¨ ×§×˜×’×•×¨×™×”</option>
                        <option value="fixed">×”×•×¦××•×ª ×§×‘×•×¢×•×ª</option>
                        <option value="variable">×”×•×¦××•×ª ××©×ª× ×•×ª</option>
                        <option value="general">×”×•×¦××•×ª ×›×œ×œ×™×•×ª</option>
                        <option value="sales">××›×™×¨×•×ª</option>
                        <option value="other">××—×¨</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>×ª×™××•×¨:</label>
                    <input type="text" id="editExpenseDescription" required>
                </div>
                <div class="form-group">
                    <label>×¡×›×•×:</label>
                    <input type="number" id="editExpenseAmount" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label>×ª××¨×™×š:</label>
                    <input type="date" id="editExpenseDate" required>
                </div>
                <div class="modal-footer">
                    <button type="button" onclick="closeModal('editExpenseModal')" class="btn-secondary">×‘×™×˜×•×œ</button>
                    <button type="submit">×¢×“×›×Ÿ</button>
                </div>
            </form>
        </div>
    </div>

    <div id="addProductModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">×”×•×¡×¤×ª ××•×¦×¨ ×—×“×©</div>
            <form id="addProductForm">
                <div class="form-group">
                    <label>×¡×•×’ ××•×¦×¨:</label>
                    <select id="newProductType" required>
                        <option value="">×‘×—×¨ ×¡×•×’</option>
                        <option value="×˜×‘×¢×ª">×˜×‘×¢×ª</option>
                        <option value="×¢×’×™×œ×™×">×¢×’×™×œ×™×</option>
                        <option value="×©×¨×©×¨×ª">×©×¨×©×¨×ª</option>
                        <option value="×¦××™×“">×¦××™×“</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>×©× ×“×’×:</label>
                    <input type="text" id="newProductName" required>
                </div>
                <div class="form-group">
                    <label>×—×•××¨:</label>
                    <select id="newProductMaterial" required>
                        <option value="">×‘×—×¨ ×—×•××¨</option>
                        <option value="14K ×–×”×‘">14K ×–×”×‘</option>
                        <option value="×›×¡×£">×›×¡×£</option>
                        <option value="×›×¡×£ ×™×¦×™×§×”">×›×¡×£ ×™×¦×™×§×”</option>
                        <option value="×¦×™×¤×•×™- ×›×¡×£">×¦×™×¤×•×™ ×›×¡×£</option>
                        <option value="×¦×™×¤×•×™- ×™×¦×™×§×”">×¦×™×¤×•×™ ×™×¦×™×§×”</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>×¢×œ×•×ª ×™×™×¦×•×¨:</label>
                    <input type="number" id="newProductCost" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label>××—×™×¨ ××—×•×©×‘:</label>
                    <input type="number" id="newProductPrice" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label>××—×™×¨ ×‘××ª×¨:</label>
                    <input type="number" id="newProductSitePrice" min="0" step="0.01" required>
                </div>
                <div class="modal-footer">
                    <button type="button" onclick="closeModal('addProductModal')" class="btn-secondary">×‘×™×˜×•×œ</button>
                    <button type="submit">×”×•×¡×£ ××•×¦×¨</button>
                </div>
            </form>
        </div>
    </div>

    <div id="editProductModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">×¢×¨×™×›×ª ××•×¦×¨</div>
            <form id="editProductForm">
                <input type="hidden" id="editProductId">
                <div class="form-group">
                    <label>×¡×•×’ ××•×¦×¨:</label>
                    <select id="editProductType" required>
                        <option value="">×‘×—×¨ ×¡×•×’</option>
                        <option value="×˜×‘×¢×ª">×˜×‘×¢×ª</option>
                        <option value="×¢×’×™×œ×™×">×¢×’×™×œ×™×</option>
                        <option value="×©×¨×©×¨×ª">×©×¨×©×¨×ª</option>
                        <option value="×¦××™×“">×¦××™×“</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>×©× ×“×’×:</label>
                    <input type="text" id="editProductName" required>
                </div>
                <div class="form-group">
                    <label>×—×•××¨:</label>
                    <select id="editProductMaterial" required>
                        <option value="">×‘×—×¨ ×—×•××¨</option>
                        <option value="14K ×–×”×‘">14K ×–×”×‘</option>
                        <option value="×›×¡×£">×›×¡×£</option>
                        <option value="×›×¡×£ ×™×¦×™×§×”">×›×¡×£ ×™×¦×™×§×”</option>
                        <option value="×¦×™×¤×•×™- ×›×¡×£">×¦×™×¤×•×™ ×›×¡×£</option>
                        <option value="×¦×™×¤×•×™- ×™×¦×™×§×”">×¦×™×¤×•×™ ×™×¦×™×§×”</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>×¢×œ×•×ª ×™×™×¦×•×¨:</label>
                    <input type="number" id="editProductCost" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label>××—×™×¨ ××—×•×©×‘:</label>
                    <input type="number" id="editProductPrice" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label>××—×™×¨ ×‘××ª×¨:</label>
                    <input type="number" id="editProductSitePrice" min="0" step="0.01" required>
                </div>
                <div class="modal-footer">
                    <button type="button" onclick="closeModal('editProductModal')" class="btn-secondary">×‘×™×˜×•×œ</button>
                    <button type="submit">×¢×“×›×Ÿ ××•×¦×¨</button>
                </div>
            </form>
        </div>
    </div>

    <div id="addOrderModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">×”×–×× ×” ×—×“×©×”</div>
            <form id="addOrderForm">
                <div class="form-group">
                    <label>×©× ×”×œ×§×•×—:</label>
                    <input type="text" id="customerName" required>
                </div>
                <div class="form-group">
                    <label>××•×¦×¨×™×:</label>
                    <textarea id="orderProducts" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label>×¡×›×•×:</label>
                    <input type="number" id="orderAmount" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="receiptSent">
                        ×§×‘×œ×” × ×©×œ×—×”
                    </label>
                </div>
                <div class="form-group">
                    <label>×”×¢×¨×•×ª:</label>
                    <textarea id="orderNotes" rows="2"></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" onclick="closeModal('addOrderModal')" class="btn-secondary">×‘×™×˜×•×œ</button>
                    <button type="submit">×”×•×¡×£ ×”×–×× ×”</button>
                </div>
            </form>
        </div>
    </div>